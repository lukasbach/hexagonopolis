(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e){e.exports=[{id:"blocking_rock",description:"Welp, I guess you can't build here!",name:"Blocking Rock",assetName:"tile14",grants:[],requirements:[]},{id:"blocking_rock_2",description:"Welp, I guess you can't build here!",name:"Blocking Rock",assetName:"tile15",grants:[],requirements:[]},{id:"blocking_rock_3",description:"Welp, I guess you can't build here!",name:"Blocking Rock",assetName:"tile16",grants:[],requirements:[]},{id:"joker",description:"Think of all the possibilities!",name:"Joker Tile",assetName:"tile92",grants:[{resourceId:"agriculture",amount:5},{resourceId:"fuel",amount:5},{resourceId:"relaxing",amount:5},{resourceId:"sightseeing",amount:5},{resourceId:"social",amount:5},{resourceId:"stone",amount:5},{resourceId:"wood",amount:5}],requirements:[]},{id:"farm_fields",description:"Some good food is in the making under these fields.",name:"Fields",assetName:"tile124",grants:[{resourceId:"agriculture",amount:2},{resourceId:"relaxing",amount:1}],requirements:[{resourceId:"social",min:1},{resourceId:"wood",min:1}]},{id:"farm_smelt",description:"Just your local Smeltery.",name:"Smeltery",assetName:"tile128",grants:[{resourceId:"agriculture",amount:2},{resourceId:"social",amount:1},{resourceId:"stone",amount:4}],requirements:[{resourceId:"stone",min:3}]},{id:"farm_smith",description:"Just your local Metalsmith.",name:"Metalsmith",assetName:"tile126",grants:[],requirements:[]},{id:"lumberjack",description:"Processing raw wood into processed, slightly smaller wood.",name:"Lumberjack",assetName:"tile129",grants:[{resourceId:"agriculture",amount:1},{resourceId:"wood",amount:6}],requirements:[{resourceId:"wood",min:4}]},{id:"road_grass_stone",name:"Stone Transportation Road",assetName:"tile79",grants:[{resourceId:"stone",amount:2}],requirements:[{resourceId:"stone",min:2}]},{id:"road_grass_wood",name:"Wood transportation Road",assetName:"tile79",grants:[{resourceId:"wood",amount:2}],requirements:[{resourceId:"wood",min:2}]},{id:"residential0",description:"Home to John Doe, your typical 9-5 worker.",name:"Residential Home",assetName:"tile143",grants:[{resourceId:"waste",amount:2}],requirements:[{resourceId:"noise",max:2},{resourceId:"social",min:2}]},{id:"residential1",description:"Home to John Doe, your typical 9-5 worker.",name:"Residential Home",assetName:"tile144",grants:[{resourceId:"waste",amount:2}],requirements:[{resourceId:"noise",max:2},{resourceId:"social",min:2}]},{id:"residential2",description:"Home to John Doe, your typical 9-5 worker.",name:"Residential Home",assetName:"tile145",grants:[{resourceId:"waste",amount:2}],requirements:[{resourceId:"noise",max:2},{resourceId:"social",min:2}]},{id:"residential3",description:"Home to John Doe, your typical 9-5 worker.",name:"Residential Home",assetName:"tile146",grants:[{resourceId:"waste",amount:2}],requirements:[{resourceId:"noise",max:2},{resourceId:"social",min:2}]},{id:"castle_small",description:"This small castle attracts some tourists into your hexagonal region.",name:"Small Castle",assetName:"tile133",grants:[{resourceId:"relaxing",amount:2},{resourceId:"sightseeing",amount:1},{resourceId:"social",amount:2}],requirements:[{resourceId:"military",max:0},{resourceId:"wood",min:1},{resourceId:"waste",max:0}]},{id:"castle_big",description:"This large castle attracts lots of tourists into your hexagonal region.",name:"Large Castle",assetName:"tile134",grants:[{resourceId:"relaxing",amount:4},{resourceId:"sightseeing",amount:3},{resourceId:"social",amount:3}],requirements:[{resourceId:"military",max:0},{resourceId:"stone",min:1},{resourceId:"waste",max:0}]},{id:"arc",description:"Built a long time ago, many tourists come to visit your lands to go see this attraction.",name:"Roman Triumphal Arc",assetName:"tile158",grants:[{resourceId:"relaxing",amount:2},{resourceId:"sightseeing",amount:2}],requirements:[{resourceId:"military",max:0},{resourceId:"stone",min:1},{resourceId:"wood",min:1}]},{id:"office_small",description:"Lots of people working there! Like almost a quarter of them!",name:"Small Office Building",assetName:"tile103",grants:[{resourceId:"noise",amount:1},{resourceId:"social",amount:2},{resourceId:"waste",amount:1}],requirements:[{resourceId:"military",min:1},{resourceId:"stone",min:1}]},{id:"office_medium",description:"This professional office building even has a water fountain.",name:"Medium Office Building",assetName:"tile161",grants:[{resourceId:"noise",amount:2},{resourceId:"social",amount:3},{resourceId:"waste",amount:1}],requirements:[{resourceId:"military",min:1},{resourceId:"stone",min:2}]},{id:"office_big",description:"A large modern office building that houses an enterprise company that will probably go bankrupt in the next two years.",name:"Large Office Building",assetName:"tile162",grants:[{resourceId:"noise",amount:3},{resourceId:"social",amount:2},{resourceId:"waste",amount:3}],requirements:[{resourceId:"military",min:2},{resourceId:"stone",min:3}]},{id:"shop0",description:"People can buy groceries there, but it gets most of its income from teenagers buying alcohol.",name:"Shop",assetName:"tile147",grants:[{resourceId:"noise",amount:1},{resourceId:"social",amount:2}],requirements:[{resourceId:"agriculture",min:1},{resourceId:"wood",min:1}]},{id:"shop1",description:"People can buy groceries there, but it gets most of its income from teenagers buying alcohol.",name:"Shop",assetName:"tile148",grants:[{resourceId:"noise",amount:1},{resourceId:"social",amount:2}],requirements:[{resourceId:"agriculture",min:2},{resourceId:"wood",min:1}]},{id:"shop2",description:"People can buy groceries there, but it gets most of its income from teenagers buying alcohol.",name:"Shop",assetName:"tile149",grants:[{resourceId:"noise",amount:1},{resourceId:"social",amount:3}],requirements:[{resourceId:"social",min:1},{resourceId:"wood",min:2}]},{id:"waste_plant",description:"Converts garbage into pure energy, without serious side effects. I don't think it works like that in real-life\ufffd",name:"Waste Incineration Plant",assetName:"tile138",grants:[{resourceId:"agriculture",amount:2},{resourceId:"fuel",amount:4},{resourceId:"noise",amount:2},{resourceId:"waste",amount:-6}],requirements:[{resourceId:"waste",min:3}]},{id:"church",description:"A spiritual place.",name:"Church",assetName:"tile157",grants:[{resourceId:"relaxing",amount:4},{resourceId:"social",amount:4}],requirements:[{resourceId:"military",max:0},{resourceId:"noise",max:2},{resourceId:"social",min:1},{resourceId:"wood",min:1}]},{id:"camping",name:"Camping Place",assetName:"tile159",grants:[{resourceId:"social",amount:3},{resourceId:"wood",amount:1}],requirements:[{resourceId:"noise",max:0},{resourceId:"relaxing",min:3},{resourceId:"wood",min:2}]},{id:"mine",name:"Mining Shaft",assetName:"tile160",grants:[],requirements:[]},{id:"fountain",name:"Water Fountain",assetName:"tile93",grants:[],requirements:[]},{id:"parking",name:"Parking Lot",assetName:"tile95",grants:[],requirements:[]},{id:"trees_grass",name:"Forest",assetName:"tile12",grants:[{resourceId:"noise",amount:-1},{resourceId:"wood",amount:2}],requirements:[]},{id:"trees_dirt",name:"Forest",assetName:"tile34",grants:[{resourceId:"noise",amount:-1},{resourceId:"wood",amount:2}],requirements:[]},{id:"trees_sand",name:"Forest",assetName:"tile56",grants:[{resourceId:"noise",amount:-1},{resourceId:"wood",amount:2}],requirements:[]},{id:"military_hanger",name:"Military Hanger",assetName:"tile97",grants:[],requirements:[]},{id:"military_tanks",name:"Military Outpost",assetName:"tile98",grants:[],requirements:[]},{id:"military_rockets",name:"Rockets Launch Site",assetName:"tile99",grants:[],requirements:[]},{id:"military_turret_small",name:"Small Turret",assetName:"tile100",grants:[],requirements:[]},{id:"military_turret_medium",name:"Large Turret",assetName:"tile101",grants:[],requirements:[]},{id:"military_turret_big",name:"Anti Air Defense Turret",assetName:"tile102",grants:[],requirements:[]},{id:"library",name:"Local Library",assetName:"tile149",grants:[{resourceId:"relaxing",amount:2},{resourceId:"social",amount:3}],requirements:[{resourceId:"noise",max:1},{resourceId:"social",min:1}]},{id:"saloon0",name:"Saloon",assetName:"tile150",grants:[{resourceId:"relaxing",amount:1}],requirements:[{resourceId:"social",min:2},{resourceId:"wood",min:1}]},{id:"saloon1",name:"Saloon",assetName:"tile151",grants:[{resourceId:"relaxing",amount:2}],requirements:[{resourceId:"social",min:2},{resourceId:"stone",min:1}]},{id:"watertower",name:"Water Tower",assetName:"tile153",grants:[{resourceId:"agriculture",amount:2}],requirements:[{resourceId:"wood",min:3,max:3}]},{id:"western_shop0",name:"Hardware Shop",assetName:"tile154",grants:[{resourceId:"social",amount:2}],requirements:[{resourceId:"agriculture",min:2},{resourceId:"wood",min:1}]},{id:"sheriff",name:"Sheriff's Office",assetName:"tile155",grants:[{resourceId:"military",amount:2},{resourceId:"social",amount:2}],requirements:[{resourceId:"social",min:2},{resourceId:"wood",min:1}]},{id:"tipis",name:"Tipis",assetName:"tile156",grants:[{resourceId:"agriculture",amount:1},{resourceId:"relaxing",amount:1},{resourceId:"social",amount:1}],requirements:[{resourceId:"social",min:1}]},{id:"police",name:"Police Station",assetName:"tile103",grants:[{resourceId:"military",amount:2},{resourceId:"social",amount:2}],requirements:[{resourceId:"social",min:1}]},{id:"rock_grass",name:"Rocks",assetName:"tile15",grants:[{resourceId:"stone",amount:2}],requirements:[]},{id:"rock_dirt",name:"Rocks",assetName:"tile39",grants:[{resourceId:"stone",amount:2}],requirements:[]},{id:"rock_sand",name:"Rocks",assetName:"tile59",grants:[],requirements:[]},{id:"western_bank",name:"Bank",assetName:"tile152",grants:[{resourceId:"social",amount:4}],requirements:[{resourceId:"military",min:4}]},{id:"blocking_rock_sand",name:"Blocking Rock",assetName:"tile58",grants:[],requirements:[]},{id:"blocking_rock_sand1",name:"Blocking Rock",assetName:"tile59",grants:[],requirements:[]},{id:"",name:"",assetName:"",grants:[],requirements:[]},{id:"",name:"",assetName:"",grants:[],requirements:[]},{id:"",name:"",assetName:"",grants:[],requirements:[]},{id:"",name:"",assetName:"",grants:[],requirements:[]},{id:"mars_trees",name:"Infested Trees",assetName:"tile72",grants:[{resourceId:"extraterrestrial",amount:2}],requirements:[]},{id:"mars_crystals",name:"Mysterious Crystals",assetName:"tile73",grants:[{resourceId:"crystal",amount:2}],requirements:[]},{id:"mars_crystal_rock",name:"Mysterious Rock",assetName:"tile74",grants:[{resourceId:"crystal",amount:2},{resourceId:"stone",amount:2}],requirements:[]},{id:"mars_rock0",name:"Rock",assetName:"tile76",grants:[{resourceId:"stone",amount:2}],requirements:[]},{id:"mars_rock1",name:"Rock",assetName:"tile77",grants:[{resourceId:"stone",amount:2}],requirements:[]},{id:"blocking_rock_mars0",name:"Blocking Rock",assetName:"tile76",grants:[],requirements:[]},{id:"blocking_rock_mars1",name:"Blocking Rock",assetName:"tile77",grants:[],requirements:[]},{id:"mars_residential0",name:"Living Quarters",assetName:"tile122",grants:[],requirements:[{resourceId:"agriculture",min:2},{resourceId:"stone",min:2}]},{id:"mars_residential1",name:"Living Quarters",assetName:"tile121",grants:[],requirements:[{resourceId:"agriculture",min:2},{resourceId:"military",min:3}]},{id:"mars_construction",name:"Construction Hall",assetName:"tile115",grants:[{resourceId:"crystal",amount:4},{resourceId:"extraterrestrial",amount:4},{resourceId:"fuel",amount:1}],requirements:[{resourceId:"crystal",min:2},{resourceId:"extraterrestrial",min:4}]},{id:"mars_factory",name:"Factory",assetName:"tile113",grants:[{resourceId:"fuel",amount:2}],requirements:[{resourceId:"crystal",min:4},{resourceId:"extraterrestrial",min:2},{resourceId:"military",min:1}]},{id:"mars_ship",name:"Landing Dock",assetName:"tile117",grants:[{resourceId:"crystal",amount:1},{resourceId:"extraterrestrial",amount:1},{resourceId:"military",amount:3}],requirements:[{resourceId:"fuel",min:2}]},{id:"mars_fuelcrate",name:"Fuel Crate",assetName:"tile118",grants:[],requirements:[{resourceId:"fuel",min:5}]},{id:"mars_rocket_hall",name:"Rocket Construction Facility",assetName:"tile106",grants:[],requirements:[{resourceId:"crystal",min:1},{resourceId:"extraterrestrial",min:1},{resourceId:"fuel",min:3}]},{id:"mars_food",name:"Biospheres",assetName:"tile105",grants:[{resourceId:"agriculture",amount:2}],requirements:[{resourceId:"extraterrestrial",min:1}]}]},43:function(e,t,r){e.exports=r(79)},48:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(38),o=r.n(i),s=(r(48),r(2)),l=r(39),c=r(40),u=r(4),d=s.TypedAction.define("@@resources/define")(),m=s.TypedAction.define("@@resources/reset")(),g=s.TypedReducer.builder().withHandler(d.TYPE,function(e,t){var r=t.resource;return[].concat(Object(u.a)(e),[r])}).withHandler(m.TYPE,function(){return[]}).build(),p=r(7),f=s.TypedAction.define("@@board/place")(),b=s.TypedAction.define("@@board/setempty")(),h=s.TypedAction.define("@@board/setborder")(),y=s.TypedAction.define("@@board/hover")(),v=s.TypedAction.define("@@board/select")(),x=s.TypedAction.define("@@board/reset")(),k=s.TypedReducer.builder().withHandler(f.TYPE,function(e,t){var r=t.abstractTile,a=t.x,n=t.y;return Object(s.setWith)(e,{tiles:[].concat(Object(u.a)(e.tiles.filter(function(e){return!(e.x===a&&e.y===n)})),[{type:"placed",abstractTile:r,x:a,y:n}])})}).withHandler(b.TYPE,function(e,t){var r=t.x,a=t.y,n=t.asset,i=t.resources;return Object(s.setWith)(e,{tiles:[].concat(Object(u.a)(e.tiles.filter(function(e){return!(e.x===r&&e.y===a)})),[{type:"empty",x:r,y:a,asset:n,resources:i||[]}])})}).withHandler(h.TYPE,function(e,t){var r=t.x,a=t.y,n=t.asset;return Object(s.setWith)(e,{tiles:[].concat(Object(u.a)(e.tiles.filter(function(e){return!(e.x===r&&e.y===a)})),[{type:"border",x:r,y:a,asset:n,resources:[]}])})}).withHandler(y.TYPE,function(e,t){var r=t.x,a=t.y;return void 0===r&&void 0===a?Object(s.setWith)(e,{tiles:e.tiles.map(function(e){return e.isHovering?Object(p.a)({},e,{isHovering:void 0}):e})}):Object(s.setWith)(e,{tiles:e.tiles.map(function(e){return e.x===r&&e.y===a?Object(p.a)({},e,{isHovering:!0}):Object(p.a)({},e,{isHovering:void 0})})})}).withHandler(v.TYPE,function(e,t){var r=t.x,a=t.y;return r||a?Object(s.setWith)(e,{tiles:e.tiles.map(function(e){return e.x===r&&e.y===a?Object(p.a)({},e,{isSelected:!0}):e})}):Object(s.setWith)(e,{tiles:e.tiles.map(function(e){return e.isSelected?Object(p.a)({},e,{isSelected:void 0}):e})})}).withHandler(x.TYPE,function(e){return Object(s.setWith)(e,{tiles:[]})}).build(),I=s.TypedAction.define("@@cards/setdeck")(),w=s.TypedAction.define("@@cards/takeFromDeck")(),N=s.TypedAction.define("@@cards/add")(),_=s.TypedAction.define("@@cards/remove")(),E=s.TypedAction.define("@@cards/removeFromIndex")(),O=s.TypedAction.define("@@cards/select")(),j=s.TypedAction.define("@@cards/reset")(),T=s.TypedReducer.builder().withHandler(N.TYPE,function(e,t){var r=t.abstractTileId;return Object(s.setWith)(e,{hand:[].concat(Object(u.a)(e.hand),[r])})}).withHandler(_.TYPE,function(e,t){var r=t.abstractTileId;return Object(s.setWith)(e,{hand:e.hand.filter(function(e){return e!==r})})}).withHandler(E.TYPE,function(e,t){var r=t.cardIndex,a=Object(u.a)(e.hand);return a.splice(r,1),Object(s.setWith)(e,{hand:a})}).withHandler(O.TYPE,function(e,t){var r=t.cardIndex;return Object(s.setWith)(e,{selectedIndex:r})}).withHandler(I.TYPE,function(e,t){var r=t.cards;return Object(s.setWith)(e,{deck:r})}).withHandler(w.TYPE,function(e,t){for(var r=t.count,a=[],n=0;n<(r||1);n++)a.push(e.deck[Math.floor(Math.random()*e.deck.length)]);return Object(s.setWith)(e,{hand:[].concat(Object(u.a)(e.hand),a)})}).withHandler(j.TYPE,function(e){return Object(s.setWith)(e,{hand:[],deck:[]})}).build(),C=s.TypedAction.define("@@tiles/define")(),S=s.TypedAction.define("@@tiles/reset")(),A=s.TypedReducer.builder().withHandler(C.TYPE,function(e,t){var r=t.abstractTile;return[].concat(Object(u.a)(e),[r])}).withHandler(S.TYPE,function(){return[]}).build(),q=s.TypedAction.define("@@color/set")(),P=s.TypedReducer.builder().withHandler(q.TYPE,function(e,t){return t.color}).build(),B=s.TypedAction.define("@@level/load")(),H=s.TypedReducer.builder().withHandler(B.TYPE,function(e,t){return t.level}).build(),R=[{id:"campaign-default",name:"Hexagonopolis Campaign",backgroundColor:"#aaa",author:{name:"Lukas Bach",website:"https://lukasbach.com"},centering:[1,1],tilemap:["a----Ad-d","------dd-","--beh--d-","-c-fg--d-","---d-ddd-","--d---ddd","-d-d-dd-d","d--------"],tilemapLegend:{a:{levelId:"campaign-0-0",requires:[],asset:"tile143"},b:{levelId:"campaign-0-1",requires:[],asset:"tile129"},c:{levelId:"campaign-0-2",requires:[],asset:"tile160"},e:{levelId:"campaign-0-3",requires:[],asset:"tile146"},f:{levelId:"campaign-0-4",requires:[],asset:"tile158"},h:{levelId:"campaign-0-cityfill-0",requires:[],asset:"tile93"},g:{levelId:"campaign-0-5",requires:[],asset:"tile124"},d:{levelId:"comingsoon",requires:[],asset:"tile5"},Z:{levelId:"test-level",requires:[],asset:"tile80"}}},{id:"campaign-mapfills",name:"Fill the Map!",backgroundColor:"#aaa",author:{name:"Lukas Bach",website:"https://lukasbach.com"},centering:[1,4],tilemap:["a----c","--b---","------"],tilemapLegend:{a:{levelId:"campaign-0-cityfill-0",requires:[],asset:"tile125"},b:{levelId:"fillthecity-sand",requires:[],asset:"tile150"},c:{levelId:"fillthecity-mars",requires:[],asset:"tile110"}}}],L=s.TypedAction.define("@@campaign/load")(),M=s.TypedAction.define("@@campaign/leave")(),W=s.TypedReducer.builder().withHandler(L.TYPE,function(e,t){var r=t.campaignId,a=R.find(function(e){return e.id===r});if(!a)throw Error("Could not find campaign with ID ".concat(r,"."));return a}).withHandler(M.TYPE,function(){}).build(),z=s.TypedAction.define("@@dialogProgress/next")(),D=s.TypedAction.define("@@dialogProgress/reset")(),F=s.TypedReducer.builder().withHandler(z.TYPE,function(e){return e+1}).withHandler(D.TYPE,function(e){return 0}).build(),Y=Object(s.combineReducers)({resources:g,board:k,cards:T,tiles:A,color:P,level:H,campaign:W,dialogProgress:F}),G=Object(l.createLogger)({collapsed:!0}),U={resources:[],board:{tiles:[]},cards:{hand:[],deck:[]},tiles:[],color:"#34495e",level:void 0,campaign:void 0,dialogProgress:0},V=Object(s.createStore)(Y,U,Object(c.a)(G)),J=r(3),X=r(42),Q=[{id:"agriculture",assetName:"agriculture",name:"Agriculture",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"crystal",assetName:"crystal",name:"Crystals",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"extraterrestrial",assetName:"extraterrestrial",name:"Infested material",description:"",isPositive:!1,defaultValue:0,pointsMultiplier:1},{id:"fuel",assetName:"fuel",name:"Fuel",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"military",assetName:"military",name:"Military",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"noise",assetName:"noise",name:"Noise",description:"",isPositive:!1,defaultValue:0,pointsMultiplier:1},{id:"relaxing",assetName:"relaxing",name:"Relaxing",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"sightseeing",assetName:"sightseeing",name:"Sightseeing",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"social",assetName:"social",name:"Social",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"stone",assetName:"stone",name:"Stone",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"waste",assetName:"waste",name:"Waste",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1},{id:"wood",assetName:"wood",name:"Wood",description:"",isPositive:!0,defaultValue:0,pointsMultiplier:1}],K=function(e,t){Z(t),$(e,t),ee(e,t),te(e,t),re(e,t),t(B.create({level:e})),e.primaryColor&&t(q.create({color:e.primaryColor}))},Z=function(e){e(B.create({})),e(x.create({})),e(S.create({})),e(m.create({})),e(j.create({}))},$=function(e,t){Q.forEach(function(e){return t(d.create({resource:e}))})},ee=function(e,t){X.forEach(function(e){t(C.create({abstractTile:e}))})},te=function(e,t){if("emptycards"===e.gamemode||"sandbox"===e.gamemode){var r=!0,a=!1,n=void 0;try{for(var i,o=e.cards[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;t(N.create({abstractTileId:s}))}}catch(l){a=!0,n=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}}else"cityfill"===e.gamemode&&(t(I.create({cards:e.cards})),t(w.create({count:4})))},re=function(e,t){var r=0,a=0,n=!0,i=!1,o=void 0;try{for(var s,l=e.tilemap[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value,d=!0,m=!1,g=void 0;try{for(var p,h=function(){var n=p.value,i=e.tilemapLegend[n];if(i)if("placed"===i.type){var o=[].concat(Object(u.a)(X),Object(u.a)(e.extraTiles||[])).find(function(e){return e.id===i.tileId});if(!o)throw Error("Could not resolve tile ".concat(i.tileId,"."));t(f.create({abstractTile:o,x:r,y:a}))}else"empty"===i.type&&t(b.create({x:r,y:a,asset:i.asset,resources:i.resources}));r++},y=c.split("")[Symbol.iterator]();!(d=(p=y.next()).done);d=!0)h()}catch(v){m=!0,g=v}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}a++,r=0}}catch(v){i=!0,o=v}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}},ae={name:"Lukas Bach",repo:"TODO",website:"https://lukasbach.com"},ne=[{id:"campaign-0-0",name:"Tutorial",author:ae,cards:["tile1","tile2"],gamemode:"emptycards",iconAsset:"tile129",backgroundColor:"#2ecc71",centering:[2,6],tilemap:["..........","...-......","...b--s...","..--.-...."],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"},s:{type:"placed",tileId:"tile0"}},extraTiles:[{id:"tile0",name:"Farm",description:"Supplies adjacent fields with agricultural resources. You can place a grocery store on an adjacent tile.",requirements:[],grants:[{resourceId:"agriculture",amount:2}],assetName:"tile124"},{id:"tile1",name:"Grocery Store",description:"Supplies adjacent fields with social value. You can place an residential house on an adjacent tile.",requirements:[{resourceId:"agriculture",min:2}],grants:[{resourceId:"social",amount:4}],assetName:"tile148"},{id:"tile2",name:"Residential House",description:"This is the final tile to place. Place this on the board to win the level.",requirements:[{resourceId:"social",min:4}],grants:[],assetName:"tile143"}],predialog:[{talkerAsset:"zebra",talkerName:"Tutorial",side:0,message:"The goal of the game is to get rid of all cards on the bottom bar."},{talkerAsset:"zebra",talkerName:"Tutorial",side:0,message:"Cards require specific resources to be present on the tile that they are placed on."},{talkerAsset:"zebra",talkerName:"Tutorial",side:0,message:'If you place a card on the board, all tiles that are directly adjacent will receive the resources that are listed as the card\'s "Grants" resources.'},{talkerAsset:"zebra",talkerName:"Tutorial",side:0,message:"Try to place all the cards you have toi complete the level!"}]},{id:"campaign-0-1",name:"Getting wood",author:ae,cards:["final_tile","trees_grass","trees_grass","trees_grass","lumberjack"],gamemode:"emptycards",iconAsset:"tile129",backgroundColor:"#2ecc71",tilemap:["..........","..---.....",".b-..--...",".--b---...","..---b...."],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"}},extraTiles:[{id:"final_tile",name:"Mine Shaft",requirements:[{resourceId:"wood",min:7}],grants:[],assetName:"tile160"}],predialog:[{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"Welcome to Hexanopolis! Well, at least to the beginning of it..."},{talkerAsset:"penguin",talkerName:"Penguin M.Sc.",side:2,message:"This does not look like a large city..."},{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"We need some resource infrastructure before we can start construction."},{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"Your first goal is to place the mine shaft to guarantee a proper stone supply."}]},{id:"campaign-0-2",name:"Getting Stone",author:ae,cards:["road_grass_stone","road_grass_stone","road_grass_stone","stone_processing_site"],gamemode:"emptycards",backgroundColor:"#2ecc71",iconAsset:"tile160",tilemap:["B..b..b.",".mb--mB.","..--Bb..","..---b..",".m-bB-m.","Bb....bB"],centering:[2,4],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"},B:{type:"placed",tileId:"blocking_rock_2"},m:{type:"placed",tileId:"preplaced_mineshaft"}},extraTiles:[{id:"preplaced_mineshaft",name:"Mine Shaft",requirements:[],grants:[{resourceId:"stone",amount:6}],assetName:"tile160"},{id:"stone_processing_site",name:"Stone Processing Site",requirements:[{resourceId:"stone",min:10}],grants:[],assetName:"tile128"}],predialog:[{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"With your help, we could establish four large stone excavation sites in the area."},{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"No we need to connect them to a stone processing site."},{talkerAsset:"penguin",talkerName:"Penguin M.Sc.",side:2,message:"The excavation sites seem to be rather far away from each other."},{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"Yeah, the construction manager was a real monkey..."},{talkerAsset:"monkey",talkerName:"Manager Banana",side:0,message:"Excuse me?"},{talkerAsset:"buffalo",talkerName:"Mayor Buffalo",side:0,message:"Anyway, try to connect the excavation sites with these transportation roads!"},{talkerAsset:"penguin",talkerName:"Penguin M.Sc.",side:2,message:"I'll see what I can do."}]},{id:"campaign-0-3",name:"Houses for the poor",author:ae,cards:["shop0","shop1","waste_plant","residential0","residential0","residential1","residential2","farm_fields"],gamemode:"emptycards",backgroundColor:"#2ecc71",iconAsset:"tile160",tilemap:[".w.--w..",".W---b--","----W-..",".W---..B","--B----.","..--.-b."],centering:[2,4],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"},B:{type:"placed",tileId:"blocking_rock_2"},w:{type:"placed",tileId:"trees_grass"},W:{type:"placed",tileId:"lumberjack"}},predialog:[{talkerAsset:"duck",talkerName:"Duck Sr",side:0,message:"We have let our statistician analyze data from our newly founded city, and we have some news."},{talkerAsset:"duck",talkerName:"Duck Sr",side:0,message:"Good news is: We actually have zero percent homeless people!"},{talkerAsset:"duck",talkerName:"Duck Sr",side:0,message:"Bad news are, we don\t have any inhabitants."},{talkerAsset:"snake",talkerName:"Statistican Snake",side:0,message:"I usssed Python to analyze that!"},{talkerAsset:"duck",talkerName:"Duck Sr",side:0,message:"Lets actually start building some houses, shall we?"},{talkerAsset:"penguin",talkerName:"Penguin M.Sc.",side:0,message:"I'll do Sir."}]},{id:"campaign-0-4",name:"Sightseeing wonders",author:ae,cards:["castle_small","castle_small","arc","castle_big","camping","trees_grass","trees_grass","trees_grass","lumberjack"],gamemode:"emptycards",backgroundColor:"#2ecc71",iconAsset:"tile158",tilemap:["....p.....","...pb.....","..Bp---b..",".--v---B.b","-m---...--","--s..--m-.",".---....b.","..b----m.."],centering:[2,5],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"},B:{type:"placed",tileId:"blocking_rock_2"},w:{type:"placed",tileId:"trees_grass"},m:{type:"placed",tileId:"preplaced_military_camp"},p:{type:"placed",tileId:"preplaced_path_to_visitor_center"},v:{type:"placed",tileId:"preplaced_visitor_center"},s:{type:"placed",tileId:"preplaced_mine_shaft"}},extraTiles:[{id:"preplaced_military_camp",name:"Military Camp",description:"A small military camp which is located here by the army. Sadly, we do not have the permissions to move it.",assetName:"tile96",requirements:[],grants:[{resourceId:"military",amount:2}]},{id:"preplaced_path_to_visitor_center",name:"Path",description:"A small path that leads from your town to the local visitor center.",assetName:"tile28",requirements:[],grants:[]},{id:"preplaced_visitor_center",name:"Visitor Center",description:"A small building that attracts lots of tourists.",assetName:"tile130",requirements:[],grants:[{resourceId:"social",amount:3}]},{id:"preplaced_mine_shaft",name:"Mine Shaft",assetName:"tile160",requirements:[],grants:[{resourceId:"stone",amount:3}]}],predialog:[{talkerAsset:"owl",talkerName:"Park Service Owl",side:0,message:"There is actually a large nature reserve close to to your town."},{talkerAsset:"owl",talkerName:"Park Service Owl",side:0,message:"We think it would be a good idea to build some sightseeing buildings to attract more tourists to our town."},{talkerAsset:"owl",talkerName:"Park Service Owl",side:0,message:"Unfortunately, there are some military camps constructed by the government."},{talkerAsset:"owl",talkerName:"Park Service Owl",side:0,message:"We might have to build around them."}]},{id:"campaign-0-cityfill-0",name:"Fill the City",backgroundColor:"#2ecc71",author:ae,cards:["farm_fields","lumberjack","residential0","residential1","castle_small","castle_big","office_small","office_medium","shop0","shop1","waste_plant","church","camping","trees_grass","library","police","trees_grass","trees_grass","trees_grass","trees_grass","trees_grass"],gamemode:"cityfill",iconAsset:"",tilemap:["....b..-----..",".......B..b---","...----b..--..",".----.Ba----..","...b------....",".....B..b-----"],tilemapLegend:{"-":{type:"empty",asset:"tile5"},a:{type:"placed",tileId:"preplaced_joker"},b:{type:"placed",tileId:"blocking_rock"},B:{type:"placed",tileId:"blocking_rock_2"}},centering:[3,10],extraTiles:[{id:"preplaced_joker",name:"Joker",grants:[{resourceId:"military",amount:2},{resourceId:"relaxing",amount:2},{resourceId:"social",amount:2},{resourceId:"stone",amount:2},{resourceId:"wood",amount:2}],requirements:[],assetName:"tile93"}],predialog:[{talkerAsset:"walrus",talkerName:"Van Walrus",side:0,message:"You did a great job preparing the city creation so far."},{talkerAsset:"walrus",talkerName:"Van Walrus",side:0,message:"We now want to start construction on a much larger pace."},{talkerAsset:"penguin",talkerName:"Penguin M.Sc.",side:2,message:"But it looks like I have way fewer cards to do so this time."},{talkerAsset:"walrus",talkerName:"Van Walrus",side:0,message:"This is a Fill-The-City level, your goal is not to get rid of all cards, but fill every free space on the map."},{talkerAsset:"walrus",talkerName:"Van Walrus",side:0,message:"You will always have exactly four cards on your hands. Every time you place a card, the leftmost card and the placed card will be removed and you will receive two new cards."},{talkerAsset:"walrus",talkerName:"Van Walrus",side:0,message:"Good luck!"}]},{id:"campaign-0-5",name:"Increasing Supplies",backgroundColor:"#2ecc71",author:ae,gamemode:"emptycards",iconAsset:"",cards:["trees_grass","trees_grass","rock_grass","rock_grass","residential1","farm_smelt","farm_fields","farm_fields","farm_fields","lumberjack","shop0","shop1"],centering:[2,6],tilemap:["B...b.........",".--..---..b...","...b-.---...B.","..--.--B---...","...b..----....","..-------..b..","....--..B....B"],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"},B:{type:"placed",tileId:"blocking_rock_2"}},predialog:[{talkerAsset:"rabbit",talkerName:"Senor Rabbit",side:0,message:"We have found that, even though we have functioning shops in our city, our supplies are alarmingly low."},{talkerAsset:"rabbit",talkerName:"Senor Rabbit",side:0,message:"Especially our carrots supplies."},{talkerAsset:"rabbit",talkerName:"Senor Rabbit",side:0,message:"Man I love carrots."},{talkerAsset:"rabbit",talkerName:"Senor Rabbit",side:0,message:"We need more resource supplies. Do something, now!"}]},{id:"campaign-0-1",name:"Empty",backgroundColor:"#2ecc71",author:ae,cards:[],gamemode:"emptycards",iconAsset:"",tilemap:[],tilemapLegend:{}},{id:"fillthecity-sand",name:"Fill the Western",backgroundColor:"#ccbf90",author:ae,cards:["trees_sand","trees_sand","trees_sand","trees_sand","rock_sand","rock_sand","watertower","western_shop0","sheriff","sheriff","tipis","tipis","western_bank","saloon0","saloon1"],gamemode:"cityfill",iconAsset:"",tilemap:["..b.............b....--...","B...B-------..B...----B...","......b--------....B---...","..b----a---b..---....b....",".....B----B--b..-.....---b","........---...b-.---b.----","....B...b...B---..B-----..",".....B........-.....B---b."],tilemapLegend:{"-":{type:"empty",asset:"tile49"},a:{type:"placed",tileId:"preplaced_joker"},b:{type:"placed",tileId:"blocking_rock_sand"},B:{type:"placed",tileId:"blocking_rock_sand1"}},centering:[3,8],extraTiles:[{id:"preplaced_joker",name:"Joker",grants:[{resourceId:"military",amount:2},{resourceId:"social",amount:2},{resourceId:"stone",amount:2},{resourceId:"wood",amount:2},{resourceId:"agriculture",amount:2}],requirements:[],assetName:"tile131"}]},{id:"fillthecity-mars",name:"Fill the Mars",backgroundColor:"#ab492f",author:ae,cards:["mars_trees","mars_trees","mars_trees","mars_trees","mars_crystals","mars_crystals","mars_crystals","mars_crystal_rock","mars_rock0","mars_rock1","mars_residential0","mars_residential1","mars_construction","mars_factory","mars_ship","mars_fuelcrate","mars_rocket_hall","mars_food","mars_food"],gamemode:"cityfill",iconAsset:"",tilemap:["..b.............b....--...","B...B-------..B...----B...","......b--------....B---...","..b----a---b..---....b....",".....B----B--b..-.....---b","........---...b-.---b.----","....B...b...B---..B-----..",".....B........-.....B---b."],tilemapLegend:{"-":{type:"empty",asset:"tile66"},a:{type:"placed",tileId:"preplaced_joker"},b:{type:"placed",tileId:"blocking_rock_mars0"},B:{type:"placed",tileId:"blocking_rock_mars1"}},centering:[3,8],extraTiles:[{id:"preplaced_joker",name:"Joker",grants:[{resourceId:"military",amount:2},{resourceId:"crystal",amount:2},{resourceId:"extraterrestrial",amount:2},{resourceId:"fuel",amount:2},{resourceId:"agriculture",amount:2}],requirements:[],assetName:"tile107"}]},{id:"comingsoon",name:"Coming soon",backgroundColor:"#2ecc71",author:ae,cards:[],gamemode:"emptycards",iconAsset:"",tilemap:[],tilemapLegend:{}},{id:"test-level",name:"Debug",author:ae,cards:["office_small","shop0","church","joker","trees_grass","parking","fountain","trees_sand","military_rockets"],gamemode:"emptycards",iconAsset:"tile5",backgroundColor:"#2ecc71",tilemap:["----bbb-","-b--b---","-b-b--b-","--b--b--","---bb---","--------","--------","--------","--------","--------"],tilemapLegend:{"-":{type:"empty",asset:"tile5"},b:{type:"placed",tileId:"blocking_rock"}}}],ie=r(6),oe=r(1),se=r(5),le=r.n(se),ce=r(9),ue=r(10),de=function(){function e(){Object(ce.a)(this,e)}return Object(ue.a)(e,null,[{key:"getTilePositioning",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,n=t%2===0;return[t*(this.getHeight(r)+a-this.getUpperPartHeight(r)),e*(r+a)+(n?-2:r/2)]}},{key:"getHitboxRectangleMetrics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;return[e,this.getHeight(e)*(1-2*this.HEXAGON_UPPER_PART_PER_TOTAL_HEIGHT)]}},{key:"getUpperPartHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;return this.getHeight(e)*this.HEXAGON_UPPER_PART_PER_TOTAL_HEIGHT}},{key:"getHeight",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:128)/this.HEXAGON_WIDTH_PER_HEIGHT}},{key:"getNeighbourHexagonsCoordinates",value:function(e,t){var r=t%2===1?1:0;return[{x:e-1+r,y:t-1},{x:e+r,y:t-1},{x:e-1,y:t},{x:e+1,y:t},{x:e-1+r,y:t+1},{x:e+r,y:t+1}]}}]),e}();de.HEXAGON_UPPER_PART_PER_TOTAL_HEIGHT=140/561,de.HEXAGON_WIDTH_PER_HEIGHT=480/561;var me,ge,pe=oe.a.create({container:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},innerContainer:{width:"".concat(4*window.innerWidth,"px"),height:"".concat(4*window.innerHeight,"px")}}),fe=function(e){var t=e.backgroundColor||"#eee";Object(a.useEffect)(function(){if(e.initialCentering&&d.current){var t=de.getTilePositioning(e.initialCentering[0],e.initialCentering[1]),r=Object(ie.a)(t,2),a=r[0],n=r[1];console.log("Center on coords ".concat(e.initialCentering,", position ").concat(a,":").concat(n)),d.current.scrollTo(a+800-d.current.offsetWidth/2,n+800-d.current.offsetHeight/2)}},[e.initialCentering]);var r=Object(a.useState)(null),n=Object(ie.a)(r,2),i=n[0],o=n[1],s=Object(a.useState)([0,0]),l=Object(ie.a)(s,2),c=l[0],u=l[1],d=Object(a.useRef)(null);return a.createElement("div",{className:Object(oe.b)(pe.container),style:{background:"linear-gradient(350deg, ".concat(le()(t).darken(.1).string()," 0%,")+" ".concat(le()(t).darken(-.2).string()," 100%)"),backgroundColor:t},onMouseDown:function(t){2===t.button&&(u([d.current.scrollLeft,d.current.scrollTop]),o([t.clientX,t.clientY]),e.isDragging&&e.isDragging(!0))},onMouseUp:function(t){2===t.button&&(o(null),e.isDragging&&e.isDragging(!1))},onMouseMove:function(e){return!!i&&(t=e.clientX,r=e.clientY,void(d.current&&i&&d.current.scrollTo(c[0]+i[0]-t,c[1]+i[1]-r)));var t,r},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},ref:d},a.createElement("div",{className:Object(oe.b)(pe.innerContainer)},e.children))};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.TO_LOW_COUNT=1]="TO_LOW_COUNT",e[e.SUFFICIENT=2]="SUFFICIENT"}(me||(me={})),function(e){e[e.x4=0]="x4",e[e.x3=1]="x3",e[e.x2=2]="x2",e[e.x1=3]="x1",e[e.x1dot5=4]="x1dot5",e[e.x0dot75=5]="x0dot75",e[e.x0dot5=6]="x0dot5",e[e.svg=7]="svg"}(ge||(ge={}));var be=function(){function e(){Object(ce.a)(this,e)}return Object(ue.a)(e,null,[{key:"getTileUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.x4;return this.getUrl(e,"tile",t)}},{key:"getObjectUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.x4;return this.getUrl(e,"object",t)}},{key:"getUrl",value:function(e,t,r){return"./assets/".concat("tile"===t?"tiles":"objects","/").concat(this.getSizeText(r),"/")+"".concat(e).concat(this.getSizeFileSuffix(r)).concat(this.getFileEnding(r))}},{key:"isSvg",value:function(e){return e===ge.svg}},{key:"getSizeText",value:function(e){switch(e){case ge.x4:return"4x";case ge.x3:return"3x";case ge.x2:return"2x";case ge.x1:return"1x";case ge.x1dot5:return"1.5x";case ge.x0dot75:return"0.75x";case ge.x0dot5:return"0.5x";case ge.svg:return"SVG"}}},{key:"getSizeFileSuffix",value:function(e){return this.isSvg(e)?"":"@"+this.getSizeText(e)}},{key:"getFileEnding",value:function(e){return this.isSvg(e)?".svg":".png"}}]),e}(),he=function(e){return e.cards.hand.map(function(t){return[].concat(Object(u.a)(e.tiles),Object(u.a)(e.level&&e.level.extraTiles||[])).find(function(e){return e.id===t})}).map(function(t){return t||function(){throw console.log(e.cards.hand),Error("Tile not found")}()}).map(function(t,r){return r===e.cards.selectedIndex?Object(p.a)({},t,{isCardSelected:!0}):t})},ye=function(e){return he(e).filter(function(e){return e.isCardSelected})[0]},ve=function(e,t){var r=e.resources.find(function(e){return e.id===t});if(!r)throw Error("Could not find resource with ID ".concat(t,", registered resources")+" are ".concat(e.resources.map(function(e){return e.id}).join(", ")));return r},xe=function(e){return e.board.tiles.find(function(e){return e.isHovering})},ke=function(e,t,r){return e.board.tiles.find(function(e){return e.x===t&&e.y===r})},Ie=function(e){return e.board.tiles.map(function(t){if("empty"===t.type){var r=de.getNeighbourHexagonsCoordinates(t.x,t.y).map(function(t){var r=t.x,a=t.y;return ke(e,r,a)}).filter(function(e){return e&&"placed"===e.type}).map(function(e){return e}).map(function(e){return e.abstractTile.grants}).reduce(function(e,t){return[].concat(Object(u.a)(e),Object(u.a)(t))},[]).reduce(function(e,t){return e.find(function(e){return e.resourceId===t.resourceId})?e.map(function(e){return e.resourceId===t.resourceId?Object(p.a)({},e,{amount:e.amount+t.amount}):e}):[].concat(Object(u.a)(e),[t])},[]);t.resources=r}return t})},we=function(e){return e.level?(e.level.predialog||[]).length>e.dialogProgress?(e.level.predialog||[])[e.dialogProgress]:(e.level.postdialog||[]).length>e.dialogProgress-(e.level.predialog||[]).length?(e.level.postdialog||[])[e.dialogProgress-(e.level.predialog||[]).length]:void 0:void 0},Ne=function(e){return Math.min(e.dialogProgress,e.level?(e.level.predialog||[]).length-1:0)},_e=function(e,t,r){var a=[],n=function(r){var a=t.find(function(e){return e.resourceId===r});if(a)return a;var n=e.find(function(e){return e.id===r});if(n)return{resourceId:r,amount:n.defaultValue||0};throw Error("Could not find resource with ID ".concat(r,"."))},i=!0,o=!1,s=void 0;try{for(var l,c=r.requirements[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,d=n(u.resourceId).amount;(void 0!==u.min&&u.min>d||void 0!==u.max&&u.max<d)&&a.push(u.resourceId)}}catch(m){o=!0,s=m}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return a},Ee=function(){function e(){Object(ce.a)(this,e)}return Object(ue.a)(e,null,[{key:"setCampaign",value:function(e){window.location.hash="".concat(e)}},{key:"setLevel",value:function(e,t){var r=t||this.getCampaign()||"-";window.location.hash="".concat(r,"/").concat(e)}},{key:"getCampaign",value:function(){if(""!==window.location.hash&&this.getPieces()[0]&&"-"!==this.getPieces()[0])return this.getPieces()[0]}},{key:"getLevel",value:function(){if(""!==window.location.hash&&this.getPieces()[1])return this.getPieces()[1]}},{key:"getPieces",value:function(){var e=window.location.hash.split("/");return console.log(e),e}}]),e}(),Oe=function(){return Object(J.c)(function(e){return{color:e.color}}).color},je=function(e){Object(a.useEffect)(function(){e.levelId&&e.campaignId?Ee.setLevel(e.levelId,e.campaignId):e.campaignId?Ee.setCampaign(e.campaignId):e.levelId&&Ee.setLevel(e.levelId)},[e.campaignId,e.levelId])},Te=oe.a.create({container:{lineHeight:"20px",fontWeight:"bold"},imageContainer:{display:"inline-block",width:"30px",textAlign:"center"},image:{height:"20px",verticalAlign:"middle"},metricName:{marginRight:"4px"},metricValue:{},positiveIntent:{color:"#2ecc71"},negativeIntent:{color:"#e74c3c"}}),Ce=function(e){var t=Object(J.c)(function(t){return{resource:ve(t,e.resourceInformation.resourceId)}}).resource,r=function(){if(void 0!==e.resourceInformation.amount){var t=e.resourceInformation.amount;return(t<0?"-":"+")+Math.abs(t)}var r=e.resourceInformation;if(void 0!==r.min&&void 0!==r.max)return"".concat(r.min," - ").concat(r.max);if(void 0!==r.min)return"".concat(r.min).concat(e.longText?" or more":"+");if(void 0!==r.max)return"".concat(r.max).concat(e.longText?" or less":"-");throw Error("No resource amount information supplied in resource requirements: ".concat(JSON.stringify(r)))}(),n=function(){switch(e.intent){case me.DEFAULT:return e.textColor;case me.TO_LOW_COUNT:return"#e74c3c";case me.SUFFICIENT:default:return e.textColor}}();return a.createElement("div",{className:Object(oe.b)(Te.container),style:{color:n},title:t.name},a.createElement("div",{className:Object(oe.b)(Te.imageContainer)},a.createElement("img",{src:be.getObjectUrl(t.assetName),className:Object(oe.b)(Te.image),alt:"Resource icon"})),a.createElement("span",{className:Object(oe.b)(Te.metricValue)},e.longText&&t.name+": ",r))},Se=oe.a.create({text:{textShadow:"2px 2px 1px black",fontFamily:'"Pacifico", cursive',lineHeight:".8em"},bigText:{textShadow:"2px 6px 1px black"}}),Ae=function(e){return a.createElement("span",{className:Object(oe.b)(Se.text,(e.fontSize||1)>2&&Se.bigText),style:{color:e.color||"#fff",fontSize:"".concat(e.fontSize||1,"em")}},e.children,e.text)},qe=240,Pe=30,Be=50,He=120,Re=160,Le=20,Me=50,We=function(e){return"".concat(e,"px")},ze=oe.a.create({container:{display:"inline-block",position:"relative",width:We(Re),height:We(qe+Pe),marginLeft:We(Le),textAlign:"center",overflowX:"visible"},innerContainer:{position:"absolute",top:We(-Pe),bottom:0,width:We(Re),borderRadius:"40px 40px 0 0",zIndex:500,transition:"all .1s ease",":hover":{top:We(-Pe-20)}},innerContainerSelected:{top:We(-Pe-25),":hover":{top:We(-Pe-25)}},countContainer:{position:"absolute",top:We(-Me),right:0,zIndex:510},image:{width:We(He),marginTop:We(-Be),zIndex:500},title:{margin:"0 20px",marginTop:"-40px",lineHeight:"1.1em"},resourceListTitle:{fontWeight:"bold",fontSize:"1em",marginBottom:".6em"},textContainer:{display:"flex",width:We(Re)},resourcesColumn:{flexGrow:1,padding:"10px"}}),De=function(e){var t=Oe(),r=function(e){return le()(t).darken(e).string()};return a.createElement("div",{className:Object(oe.b)(ze.container)},e.cardCount&&e.cardCount>1&&a.createElement("div",{className:Object(oe.b)(ze.countContainer)},a.createElement(Ae,{fontSize:2.4,text:"".concat(e.cardCount,"x")})),a.createElement("div",{className:Object(oe.b)(ze.innerContainer,e.tile.isCardSelected&&ze.innerContainerSelected),style:{backgroundColor:e.tile.isCardSelected?r(.2):r(.1),cursor:e.tile.isCardSelected?void 0:"pointer",boxShadow:"7px 14px 1px ".concat(le()(t).darken(.4).string())},onClick:e.onSelect},a.createElement("img",{src:be.getTileUrl(e.tile.assetName),className:Object(oe.b)(ze.image),alt:e.tile.assetName}),a.createElement("div",{className:Object(oe.b)(ze.title),style:{color:r(.4)}},a.createElement(Ae,{text:e.tile.name,fontSize:1.4})),a.createElement("div",{className:Object(oe.b)(ze.textContainer)},a.createElement("div",{className:Object(oe.b)(ze.resourcesColumn)},a.createElement("div",{className:Object(oe.b)(ze.resourceListTitle),style:{color:r(.65)}},"Requires"),0===e.tile.requirements.length?"Nothing":e.tile.requirements.map(function(e){return a.createElement(Ce,{key:e.resourceId,resourceInformation:e,textColor:r(.5)})})),a.createElement("div",{className:Object(oe.b)(ze.resourcesColumn)},a.createElement("div",{className:Object(oe.b)(ze.resourceListTitle),style:{color:r(.65)}},"Grants"),0===e.tile.grants.length?"Nothing":e.tile.grants.map(function(e){return a.createElement(Ce,{key:e.resourceId,resourceInformation:e,textColor:r(.6)})})))))},Fe=oe.a.create({container:{width:"100%",height:"240px",minHeight:"240px"},winContainer:{textAlign:"center",margin:"2.4em"},winBackLink:{display:"inline-block",paddingBottom:"10px",borderBottom:"8px solid #fff",transition:"all .15s ease",cursor:"pointer",":hover":{paddingBottom:"4px"}}}),Ye=function(e){var t=Object(J.c)(function(e){return{cards:he(e)}}).cards,r=Object(J.b)(),n=Oe(),i=function(){var e=Object(J.c)(function(e){return{gameMode:e.level?e.level.gamemode:"sandbox",cards:he(e),tiles:Ie(e)}}),t=e.gameMode,r=e.cards,a=e.tiles;return"cityfill"===t?a.map(function(e){return"empty"!==e.type}).reduce(function(e,t){return e&&t},!0):"emptycards"===t?0===r.length:void 0}();return a.createElement("div",{className:Object(oe.b)(Fe.container),style:{backgroundColor:n}},i?a.createElement("div",{className:Object(oe.b)(Fe.winContainer)},a.createElement("p",null,a.createElement(Ae,{fontSize:6,text:"Level complete!"})),a.createElement("div",{className:Object(oe.b)(Fe.winBackLink),onClick:function(){return r(B.create({}))}},a.createElement(Ae,{fontSize:3,text:"Back to Campaign"}))):function(){for(var e=[],r=0;r<t.length;r++)r>=1&&t[r-1].id===t[r].id?e[e.length-1].count++:e.push({card:t[r],count:1,idx:r});return e}().map(function(e,t){return a.createElement(De,{tile:e.card,onSelect:function(){return t=e.idx,r(O.create({cardIndex:t}));var t},isSelected:!!e.card.isCardSelected,cardCount:e.count})}))},Ge=oe.a.create({buttonContainer:{display:"inline-block",position:"relative",margin:"10px"},buttonContainerSmall:{margin:"3px"},pseudoButton:{padding:".5em .7em",borderRadius:"1em",fontSize:"1.2em",opacity:0,zIndex:-1,fontFamily:'"Pacifico", cursive'},button:{position:"absolute",top:0,left:0,border:0,padding:".5em .7em",borderRadius:"1em",fontSize:"1.2em",textShadow:"2px 2px 1px black",fontFamily:'"Pacifico", cursive',cursor:"pointer",transition:"all .1s ease",":active":{marginTop:"6px",marginBottom:"-6px",boxShadow:"0px 0px 1px black",transition:"none"},":focus":{outline:"none"}},buttonHovering:{},buttonSmall:{padding:".3em .5em",margin:"6px",borderRadius:".5em",fontSize:"1em"}}),Ue=function(e){var t=Object(a.useState)(!1),r=Object(ie.a)(t,2),n=r[0],i=r[1],o=Oe(),s=e.color||o,l=function(e){return le()(s).lighten(e).string()},c=l(n?-.4:-.2),u=l(n?.3:.6);return a.createElement("div",{className:Object(oe.b)(Ge.buttonContainer,e.small&&Ge.buttonContainerSmall)},a.createElement("div",{className:Object(oe.b)(Ge.pseudoButton)},e.children),a.createElement("button",{className:Object(oe.b)(Ge.button,n&&Ge.buttonHovering,e.small&&Ge.buttonSmall),style:{backgroundColor:c,color:u,boxShadow:"3px 6px 1px ".concat(l(-.6))},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},onClick:e.onClick||function(){}},e.children))},Ve=oe.a.create({container:{position:"relative",padding:"10px",borderRadius:"8px"},containerLeft:{margin:"5px 5px 15px 40px",paddingRight:"50px",textAlign:"right"},containerRight:{margin:"5px 40px 15px 5px",paddingLeft:"50px",textAlign:"left"},containerCenter:{margin:"15px 15px 25px 15px",textAlign:"center"},avatar:{position:"absolute",top:"10px",width:"32px"},avatarLeft:{right:"10px"},avatarRight:{left:"10px"},personName:{marginTop:"-25px",fontSize:"1.2em",color:"#fff",textShadow:"2px 2px 1px black",fontFamily:'"Pacifico", cursive'}}),Je=function(e){var t=Oe(),r=e.backgroundColor||t,n=function(e){return le()(r).lighten(e).string()};return a.createElement("div",{className:[Object(oe.b)(Ve.container,"left"===e.side&&Ve.containerLeft,"right"===e.side&&Ve.containerRight,!e.side&&Ve.containerCenter)].join(" "),style:{backgroundColor:n(.3),color:n(-.6),boxShadow:"3px 6px 1px ".concat(n(-.2))}},e.avatarAsset&&a.createElement("img",{src:"./assets/avatars/".concat(e.avatarAsset,".png"),alt:e.title,className:Object(oe.b)(Ve.avatar,"left"===e.side&&Ve.avatarLeft,"right"===e.side&&Ve.avatarRight)}),e.title&&a.createElement("div",{className:Object(oe.b)(Ve.personName)},e.title,e.avatarAsset&&":"),e.children)},Xe=function(e){var t=Object(J.c)(function(e){return{preDialogIndex:Ne(e),nextMessage:we(e),gameMode:e.level?e.level.gamemode:"cityfill"}}).gameMode;return a.createElement(a.Fragment,null,(e.preDialog||[]).map(function(e,t){return a.createElement(Je,{side:0===e.side?"left":2===e.side?"right":void 0,title:e.talkerName,avatarAsset:e.talkerAsset},e.message)}),a.createElement(Je,null,"cityfill"===t?"Complete the level by filling every available spot on the map!":"emptycards"===t?"Complete the level by placing all your cards!":"sandbox"===t?"Have fun!":""))},Qe=oe.a.create({container:{height:"100%",display:"flex",flexDirection:"column"},grow:{flexGrow:1,paddingBottom:"50px",overflowY:"auto",overflowX:"hidden",width:"100%"},footer:{marginBottom:"2em"},header:{margin:"2em 2em 0 2em"}}),Ke=function(e){var t=Object(J.b)(),r=Object(J.c)(function(e){return{level:e.level}}).level;return r?a.createElement("div",{className:Object(oe.b)(Qe.container)},a.createElement("div",{className:Object(oe.b)(Qe.grow)},a.createElement("div",{className:Object(oe.b)(Qe.header)},a.createElement(Ae,{text:r.name,fontSize:3})),a.createElement(Ue,{onClick:function(){t(j.create({})),t(B.create({}))}},"Leave"),a.createElement(Ue,{onClick:function(){t(j.create({})),t(B.create({})),setTimeout(function(){return K(r,t)},0)}},"Restart Level"),a.createElement("br",null),a.createElement(Xe,{preDialog:r.predialog||[],postDialog:r.postdialog||[]}))):a.createElement("span",null)},Ze=oe.a.create({containerAbsolutePositioning:{position:"absolute",zIndex:450},containerNoAbsolutePositioning:{zIndex:450},hitBoxes:{zIndex:300,position:"relative"},hitBox:{position:"absolute",top:de.getUpperPartHeight(),width:de.getHitboxRectangleMetrics()[0],height:de.getHitboxRectangleMetrics()[1]},imageContainer:{position:"relative"},image:{position:"absolute",zIndex:180,transition:"all .15s ease"},textContainer:{height:de.getHeight(128)+"px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",position:"absolute",top:0,left:0,zIndex:200}}),$e=function(e){var t=e.imageWidth||128,r=de.getTilePositioning(e.tile.x,e.tile.y),n=Object(ie.a)(r,2),i=n[0],o=n[1],s=Object(a.useState)(!1),l=Object(ie.a)(s,2),c=l[0],u=l[1];return a.createElement("div",{className:Object(oe.b)(e.noAbsolutePositioning?Ze.containerNoAbsolutePositioning:Ze.containerAbsolutePositioning),style:e.noAbsolutePositioning?{width:"".concat(t,"px"),height:"".concat(de.getHeight(t),"px"),display:"inline-block"}:{top:"".concat(i+(e.noOffset?0:800),"px"),left:"".concat(o+(e.noOffset?0:800),"px")}},a.createElement("div",{className:Object(oe.b)(Ze.hitBoxes)},[0,60,120].map(function(t,r){return a.createElement("div",{key:r,className:Object(oe.b)(Ze.hitBox),style:{transform:"rotate(".concat(t,"deg)")},onMouseEnter:function(){u(!0),e.onHover(!0)},onMouseLeave:function(){u(!1),e.onHover(!1)},onClick:e.onClick})})),a.createElement("div",{className:Object(oe.b)(Ze.imageContainer)},a.createElement("img",{src:be.getTileUrl("placed"===e.tile.type?e.tile.abstractTile.assetName:e.tile.asset),className:Object(oe.b)(Ze.image),style:{width:"".concat(c?t-12:t,"px"),top:c?"".concat(6,"px"):0,left:c?"".concat(6,"px"):0},alt:"".concat(e.tile.type," tile of type")}),a.createElement("div",{className:Object(oe.b)(Ze.textContainer),style:{width:"".concat(t,"px")}},e.children)))},et=oe.a.create({title:{position:"absolute",width:"100%",fontSize:"2.2em",marginTop:"-100px",zIndex:500,color:"#fff",textShadow:"2px 2px 1px black",fontFamily:'"Pacifico", cursive',lineHeight:"1em"},titleContainer:{position:"relative"}}),tt=function(e){return a.createElement("div",null,a.createElement("div",{style:{zIndex:100}},a.createElement($e,{onHover:function(){},onClick:function(){},tile:e.tile,noAbsolutePositioning:!0,imageWidth:256})),"placed"===e.tile.type&&a.createElement("div",null,a.createElement("div",{className:Object(oe.b)(et.titleContainer)},a.createElement("h1",{className:Object(oe.b)(et.title)},e.tile.abstractTile.name)),e.tile.abstractTile.description&&a.createElement(Je,null,e.tile.abstractTile.description),a.createElement(Je,{title:"Requires"},e.tile.abstractTile.requirements.map(function(e){return a.createElement(Ce,{key:e.resourceId,resourceInformation:e,longText:!0})}),0===e.tile.abstractTile.requirements.length&&"Nothing"),a.createElement(Je,{title:"Grants"},e.tile.abstractTile.grants.map(function(e){return a.createElement(Ce,{key:e.resourceId,resourceInformation:e,longText:!0})}),0===e.tile.abstractTile.grants.length&&"Nothing")),"empty"===e.tile.type&&a.createElement("div",null,a.createElement("div",{className:Object(oe.b)(et.titleContainer)},a.createElement("h1",{className:Object(oe.b)(et.title)},"Empty tile")),a.createElement(Je,{title:"Resources"},e.tile.resources.map(function(e){return a.createElement(Ce,{key:e.resourceId,resourceInformation:e,longText:!0})}),0===e.tile.resources.length&&"This tile does not have any resources.")))},rt=oe.a.create({container:{width:"400px"},tileContainer:{textAlign:"center",height:"100%"}}),at=function(e){var t=Oe(),r=Object(J.c)(function(e){return{hoveredTile:xe(e),all:e.board.tiles.filter(function(e){return"placed"===e.type})}}).hoveredTile;return a.createElement("div",{className:Object(oe.b)(rt.container),style:{backgroundColor:t}},a.createElement("div",{className:Object(oe.b)(rt.tileContainer),style:{backgroundColor:t}},r?a.createElement(tt,{tile:r}):a.createElement(Ke,null)))},nt=function(e){var t=Object(J.c)(function(e){return{selectedCard:ye(e),allResources:e.resources}}),r=t.selectedCard,n=t.allResources,i=function(e,t){var r=Object(J.c)(function(r){return{card:ye(r),allResources:r.resources,tile:ke(r,e,t),selectedCardIndex:r.cards.selectedIndex,gameMode:r.level?r.level.gamemode:"emptycards"}}),a=r.card,n=r.allResources,i=r.tile,o=r.selectedCardIndex,s=r.gameMode,l=Object(J.b)(),c=void 0!==o&&a&&i&&"empty"===i.type&&0===_e(n,i.resources,a).length;return function(){if(c)switch(s){case"cityfill":l(E.create({cardIndex:o})),l(f.create({abstractTile:a,x:e,y:t})),l(E.create({cardIndex:0})),l(w.create({count:2}));break;case"emptycards":l(E.create({cardIndex:o})),l(f.create({abstractTile:a,x:e,y:t}));break;case"sandbox":l(f.create({abstractTile:a,x:e,y:t}))}}}(e.tile.x,e.tile.y),o=Object(J.b)(),s="empty"===e.tile.type&&r?_e(n,e.tile.resources,r):[];return a.createElement($e,{onHover:e.noHoverEvent?function(){}:function(t){o(t?y.create({x:e.tile.x,y:e.tile.y}):y.create({}))},onClick:i,tile:e.tile},"empty"===e.tile.type&&[].concat(Object(u.a)(e.tile.resources),Object(u.a)(n.filter(function(t){return"empty"===e.tile.type&&!e.tile.resources.find(function(e){return e.resourceId===t.id})}).filter(function(e){return s.find(function(t){return t===e.id})}).map(function(e){return{resourceId:e.id,amount:e.defaultValue||0}}))).map(function(e){return a.createElement(Ce,{key:e.resourceId,resourceInformation:e,inTile:!0,textColor:"#fff",intent:s.includes(e.resourceId)?me.TO_LOW_COUNT:me.SUFFICIENT})}))},it=oe.a.create({verticalSplitContainer:{display:"flex",flexDirection:"column",height:"100%"},horizontalSplitContainer:{display:"flex",flexDirection:"row",flexGrow:1,overflow:"hidden"}}),ot=function(e){var t=Object(J.c)(function(e){return{color:e.level&&e.level.backgroundColor}}).color,r=Object(a.useState)(!1),n=Object(ie.a)(r,2),i=n[0],o=n[1],s=Object(J.c)(function(e){return{boardTiles:Ie(e),centering:e.level&&e.level.centering,levelId:e.level&&e.level.id}}),l=s.boardTiles,c=s.centering,u=s.levelId;return je({levelId:u}),a.createElement("div",{className:Object(oe.b)(it.verticalSplitContainer)},a.createElement("div",{className:Object(oe.b)(it.horizontalSplitContainer)},a.createElement(fe,{isDragging:o,backgroundColor:t,initialCentering:c||[3,3]},l.map(function(e){return a.createElement(nt,{tile:e,key:"".concat(e.x,"-").concat(e.y),noHoverEvent:i})})),a.createElement(at,null)),a.createElement(Ye,null))},st=oe.a.create({container:{position:"fixed",top:0,left:0,margin:"60px 0",zIndex:800,display:"flex",width:"100%"},heading:{flexGrow:1,paddingTop:"20px",display:"flex",flexDirection:"column-reverse"},title:{marginBottom:"12px"},subTitle:{},rightNotes:{width:"200px",textAlign:"right",padding:"40px 100px 0 0"},backButton:{width:"100px",padding:"0 50px 0 100px"}}),lt=function(e){var t=Object(J.b)(),r=Object(J.c)(function(e){return{campaign:e.campaign}}).campaign;return r?a.createElement("div",{className:Object(oe.b)(st.container)},a.createElement("div",{className:Object(oe.b)(st.backButton)},a.createElement(Ue,{onClick:function(){return t(M.create({}))},color:"#aaa"},"Back to\xa0Menu")),a.createElement("div",{className:Object(oe.b)(st.heading)},a.createElement("div",{className:Object(oe.b)(st.subTitle)},a.createElement(Ae,{fontSize:1.2,color:"#fff"},"By ",r.author.name)),a.createElement("div",{className:Object(oe.b)(st.title)},a.createElement(Ae,{fontSize:4},r.name))),a.createElement("div",{className:Object(oe.b)(st.rightNotes)},a.createElement(Ae,{fontSize:1.5,color:"#fff"},"Scroll by holding rightclick"))):null},ct=function(e){var t=Object(J.b)(),r=Object(J.c)(function(e){return{campaign:e.campaign}}).campaign;je({campaignId:r.id});var n=function(e,t){var r=[],a=0,n=0,i=!0,o=!1,s=void 0;try{for(var l,c=e.tilemap[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,d=!0,m=!1,g=void 0;try{for(var p,f=function(){var i=p.value,o=e.tilemapLegend[i];o&&r.push({asset:o.asset,levelId:o.levelId,requires:o.requires,level:t.find(function(e){return e.id===o.levelId}),x:a,y:n}),a++},b=u.split("")[Symbol.iterator]();!(d=(p=b.next()).done);d=!0)f()}catch(h){m=!0,g=h}finally{try{d||null==b.return||b.return()}finally{if(m)throw g}}n++,a=0}}catch(h){o=!0,s=h}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return r}(r,ne);return a.createElement(a.Fragment,null,a.createElement(fe,{backgroundColor:r.backgroundColor,initialCentering:r.centering},n.map(function(e){return a.createElement($e,{key:"".concat(e.x,"-").concat(e.y),tile:{x:e.x,y:e.y,asset:e.asset,type:"empty",resources:[]},onClick:function(){K(e.level,t)},onHover:function(){}},a.createElement(Ae,{text:e.level.name}))})),a.createElement(lt,null))},ut=oe.a.create({outerContainer:{margin:"15px 15px 0 15px",flexGrow:1},buttonContainer:{position:"relative",border:0,padding:"40px 60px",borderRadius:"20px",transition:"all .1s ease",outline:"none",margin:"0 8px 14px 0",cursor:"pointer",zIndex:100,":active":{margin:"14px 0 0 8px",boxShadow:"none"}},buttonContainerHovering:{}}),dt=function(e){var t=Object(a.useState)(!1),r=Object(ie.a)(t,2),n=r[0],i=r[1],o=function(t){return le()(e.color).lighten(t).string()};return a.createElement("div",{className:Object(oe.b)(ut.outerContainer)},a.createElement("button",{className:Object(oe.b)(ut.buttonContainer,n&&ut.buttonContainerHovering),style:{backgroundColor:o(n?0:.2),width:e.fill?"100%":void 0,boxShadow:"8px 14px 1px ".concat(o(-.6))},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},onClick:e.onClick||function(){}},a.createElement(Ae,{text:e.text,fontSize:3,color:"#fff"})))},mt=oe.a.create({container:{width:"120%",height:"120%",position:"fixed",top:-40,left:-40,zIndex:-1,backgroundColor:"#2ecc71"}}),gt=function(e){for(var t=["tile5","tile10","tile13","tile14","tile15","tile134","tile124","tile128","tile157","tile129"],r=["00.3.1...0020...613....1905..10.","..600..120....0217..20..2..460..",".015...00...02...370..6.02...32.","....11...107...10...17..71.0..1.","..194..20..127....382.0...4..2..","02...20...51..01..0..10..90.280.",".80...10..20.2...6....2.3..0....","...1704..200..19....12.0..15.123","00.3.1...0020...613....1905..10.","..600..120....0217..20..2..460..",".015...00...02...370..6.02...32.","....11...107...10...17..71.0..1.","..194..20..127....382.0...4..2..","02...20...51..01..0..10..90.280.",".80...10..20.2...6....2.3..0....","...1704..200..19....12.0..15.123"],n=[],i=0;i<r.length;i++)for(var o=0;o<r[i].length;o++){var s=r[i].charAt(o);"."!==s&&n.push({x:o,y:i,asset:t[parseInt(s)]})}return a.createElement("div",{className:Object(oe.b)(mt.container)},n.map(function(e){return a.createElement($e,{key:"".concat(e.x,"-").concat(e.y),tile:{x:e.x,y:e.y,asset:e.asset,type:"empty",resources:[]},onClick:function(){},onHover:function(){},noOffset:!0})}))},pt=oe.a.create({outerContainer:{height:"100%",width:"100%",position:"relative"},containerVerticalCentering:{height:"100%",width:"800px",display:"flex",justifyContent:"center",flexDirection:"column"},containerHorizontalCentering:{height:"100%",display:"flex",justifyContent:"center",flexDirection:"row"},innerContainer:{},twoButtonContainer:{display:"flex",flexDirection:"row"},header:{textAlign:"center",marginBottom:"8em"},footer:{position:"absolute",bottom:"2em",left:0,width:"100%",textAlign:"center",fontSize:"1.2em",color:"#fff",fontWeight:"bold",textShadow:"2px 2px 1px black"},footerLink:{display:"inline-block",textShadow:"none",textDecoration:"none",borderBottom:"3px solid #2c3e50",color:"#2c3e50",transition:"all .1s ease",padding:"0 0 8px 0",lineHeight:".8em",":hover":{color:le()("#2c3e50").lighten(.6).string(),padding:"0 0 4px 0",marginBottom:"4px"},":active":{color:"#fff"}}}),ft=function(e){return a.createElement("div",{className:Object(oe.b)(pt.twoButtonContainer)},e.children)},bt=function(e){var t=Oe(),r=Object(J.b)();return a.createElement("div",{className:Object(oe.b)(pt.outerContainer)},a.createElement(gt,null),a.createElement("div",{className:Object(oe.b)(pt.containerHorizontalCentering)},a.createElement("div",{className:Object(oe.b)(pt.containerVerticalCentering)},a.createElement("div",{className:Object(oe.b)(pt.innerContainer)},a.createElement("div",{className:Object(oe.b)(pt.header)},a.createElement(Ae,{fontSize:8},"Hexagonopolis")),a.createElement(dt,{text:"Campaign",color:t||"#000",asset:"tile4",fill:!0,onClick:function(){return r(L.create({campaignId:"campaign-default"}))}}),a.createElement(dt,{text:"Fill the City",color:t||"#000",asset:"tile4",fill:!0,onClick:function(){return r(L.create({campaignId:"campaign-mapfills"}))}}),a.createElement(ft,null,a.createElement(dt,{text:"GitHub Repo",color:t||"#000",asset:"tile4",fill:!0,onClick:function(){return window.open("https://github.com/lukasbach/hexagonopolis","_blank")}}),a.createElement(dt,{text:"About",color:t||"#000",asset:"tile4",fill:!0,onClick:function(){return window.open("https://github.com/lukasbach/hexagonopolis/blob/master/README.md","_blank")}}))))),a.createElement("div",{className:Object(oe.b)(pt.footer)},"Game developed by ",a.createElement("a",{href:"https://lukasbach.com",target:"_blank",className:Object(oe.b)(pt.footerLink)},"Lukas Bach"),", Assets designed by ",a.createElement("a",{href:"https://kenney.nl",target:"_blank",className:Object(oe.b)(pt.footerLink)},"Kenney"),".",a.createElement("br",null),"Also check out ",a.createElement("a",{href:"https://devsession.js.org",target:"_blank",className:Object(oe.b)(pt.footerLink)},"DevSession"),"!"))},ht=function(e){var t=Object(J.c)(function(e){return{isInGame:!!e.level,isInCampaign:!e.level&&!!e.campaign,isInMainMenu:!e.level&&!e.campaign}}),r=t.isInGame,n=t.isInCampaign,i=t.isInMainMenu;return a.createElement(a.Fragment,null,r?a.createElement(ot,null):n?a.createElement(ct,null):i?a.createElement(bt,null):a.createElement("div",null,"Routing Error"))},yt=function(){return Object(a.useEffect)(function(){var e=Ee.getCampaign(),t=Ee.getLevel();if(console.log(e,t),e&&V.dispatch(L.create({campaignId:"campaign-default"})),t){var r=ne.find(function(e){return e.id===t});K(r,V.dispatch)}}),a.createElement(J.a.Provider,{value:V},a.createElement(ht,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.b7ec7417.chunk.js.map